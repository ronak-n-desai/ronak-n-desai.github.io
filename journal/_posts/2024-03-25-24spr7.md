---
layout: post
title: Improving DAQ scripts, Fuchs Paper Updates
use_math: true
category: journal
---

This post covers work from 03/25 - 04/05. I focused on improving the DAQ process at AFRL and also on getting the synthetic data ready for publication.

# Building an Regression on electron data

Even though the data we collected on 03/18 was limited, I wanted to see what we could learn from fitting a polynomial to the data. The first thing I did was to take all the data and plot a heat map and scatter plot of the number of electrons with MP and PP intensity as inputs

![image](https://github.com/ronak-n-desai/ronak-n-desai.github.io/assets/98538788/9640fa02-9cd1-4b36-bdf9-04c48acfa01f)

Here, there's no clear correlation. I did the same thing, but with the average pixel instead 

![image](https://github.com/ronak-n-desai/ronak-n-desai.github.io/assets/98538788/217eb21d-4807-44d0-8899-b1d7275e5236)

Here, it's more clear that a higher pre pulse is desirable. One issue is that since our data collection biased higher main pulse and lower prepulse (can be seen in the correlation plots from the previous post), we aren't able to explore the parameter space fully.

Next, I trained a polynomial regression on the data (80 $\%$ of 4649 points). To better understand the relationship between the variables, First, I varied the MP while keeping the PP constant at 3 different chosen values and outputted the model predictions overlayed with corresponding data from our dataset

![image](https://github.com/ronak-n-desai/ronak-n-desai.github.io/assets/98538788/fce3fbc6-34e4-4820-b679-7bf29996c446)

To me, it appears that the data is really noisy, so its really hard to see a correlation. I did a similar thing, but instead varied the PP while keeping the MP constant to get a similar plot

![image](https://github.com/ronak-n-desai/ronak-n-desai.github.io/assets/98538788/cb28ee67-e0cf-4eb1-8715-18b076b9c271)

Ultimately, we need to collect more data to get a better result, the MP and PP data is just oo noisy. The good news is that Nathaniel recently changed the diode timings on 03/25 to make the MP and PP data less noisy. This should help significantly. Additionally, collecting data at 100Hz would give us 5x more data points to work with.

# Revising the Waveplate looping program

In the last post, I showed that there was an issue with the waveplate looping. If I look at the correlation plots from last time, it looks like the main pulse is biased to be larger and the pre pulse is biased to be smaller. This can be seen by taking the sine-squared of the waveplate angle and making a density plot (in this section, I am not looking at real data)

![image](https://github.com/ronak-n-desai/ronak-n-desai.github.io/assets/98538788/f8ab15aa-966b-4a3c-8327-767b24d338a6)

This plot shows that linearly varying the waveplate angle will result in a biased distribution of MP and PP energies. Another weird thing I noticed was that the MP Waveplate from the actual data went to an angle higher than 90 degrees. By symmetry, 95 degrees should be the same as 85 degrees, so this is a confusing choice. I want to try to modify the waveplate angle looping to get a more even distribution. The first thing I would need to do is standardize a piecewise function to represent the repeating looping pattern of the MP and PP waveplate. I will simplify this analysis by just looking at one pass going from the maximum to minimum angle, which will essentially repeat at regular intervals. I'll define $t$ as the current time with $n$ total discrete times within the max to minimum interval. If $f(t)$ is the function we are looking for, the constant velocity sweeping would be given by 

\begin{equation}
  f(t) = \theta_0 + (\theta_f - \theta_0)*t/n
\end{equation}









