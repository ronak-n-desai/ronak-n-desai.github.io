---
layout: post
title: More Improvements to AFRL scripts and GUIs
use_math: true
category: journal
---

This post covers work from 04/22 - 05/03. I spent most of the time working on stuff related to the DAQ work at AFRL. 

# 04/22 Data

Today, we collected data summarized in the following table:

| DAQ Run | Start | End | Notes |
| ------ | ------ | ------ | --- |
| 1 | 10:46AM | 11:26AM | Full Looping |
| 2 | 11:44AM | 12:29PM | Not as good as DAQ1 |
| 3 | 1:46PM | 2:29PM | Only looped PP |

We had issues getting the vacuum down to a sufficiently low pressure, which affected DAQ2 and DAQ3. 

## Sending commands to adjust target and waveplate positions. 

I tested sending commands to change both the target and waveplate positions. These are the commands for retrieving the target and waveplate positions 

```python
xps.get_stage_position('GROUP2.POSITIONER')
caget('MAINPULSE:pos_RBV')/12880
caget('PREPULSE:pos_RBV')
```

where you would need to do the following imports (and xps connection)

```python
from newportxps import NewportXPS
from epics import caget, caput, cainfo
xps = NewportXPS('196.254.31.60')
```

and the commands to update the positions would be given by 

```python
xps.move_stage('GROUP2.POSITIONER', value=12.5)
caput('MAINPULSE:pos', 120*12880)
caput('PREPULSE:pos', 4)
```

where it is important to note the factor of 12880 for the MAINPULSE position and also that `caget` has RBV (read back value) which is not present in the `caput` command
